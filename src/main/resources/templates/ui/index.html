<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title>Главная - Кинотека</title>
</head>
<body>
    <div layout:fragment="content">
        <!-- Герой-секция -->
        <div class="hero-section text-center mb-5">
            <div class="hero-content">
                <h1 class="hero-title">Добро пожаловать в Кинотеку</h1>
                <p class="hero-subtitle">Ваша цифровая коллекция фильмов, актёров и режиссёров</p>
                <div class="hero-actions">
                    <a th:href="@{/ui/movies}" class="btn btn-primary btn-lg">
                        <i class="fas fa-video"></i> Смотреть фильмы
                    </a>
                    <a th:href="@{/ui/search}" class="btn btn-outline btn-lg">
                        <i class="fas fa-search"></i> Поиск по базе
                    </a>
                </div>
            </div>
        </div>

        <!-- Быстрый поиск -->
        <div class="card mb-5">
            <div class="card-header">
                <h2><i class="fas fa-search"></i> Быстрый поиск</h2>
            </div>
            <div class="card-body">
                <form method="get" action="/ui/search" class="search-form">
                    <div class="search-box">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" 
                               name="name" 
                               th:value="${query}" 
                               placeholder="Введите название фильма, актёра или режиссёра..." 
                               class="search-input"
                               required>
                        <button type="submit" class="btn btn-primary" style="position: absolute; right: 5px; top: 50%; transform: translateY(-50%);">
                            Найти
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Популярные фильмы -->
        <div class="mb-5">
            <div class="card-header">
                <h2><i class="fas fa-star"></i> Популярные фильмы</h2>
                <a th:href="@{/ui/movies}" class="btn btn-outline">Все фильмы</a>
            </div>
            <div class="card-grid">
                <div th:each="movie : ${movies}" class="card fade-in">
                    <div class="movie-card">
                        <div class="movie-header">
                            <h3 th:text="${movie.name}">Название фильма</h3>
                            <span class="movie-rating" th:text="${movie.rate} + '⭐'">Рейтинг</span>
                        </div>
                        <div class="movie-details">
                            <p class="text-muted mb-2" th:text="${movie.year}">Год</p>
                            <p th:text="${movie.description != null && movie.description.length() > 100 ? movie.description.substring(0, 100) + '...' : movie.description}">
                                Описание фильма
                            </p>
                            <div class="movie-footer">
                                <a th:href="@{|/ui/movies/${movie.id}|}" class="btn btn-primary btn-sm">
                                    <i class="fas fa-info-circle"></i> Подробнее
                                </a>
                                <span class="movie-genres" th:text="${#strings.listJoin(movie.genres, ', ')}">Жанры</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Быстрые ссылки -->
        <div class="quick-links">
            <h2 class="text-center mb-4">Быстрый доступ</h2>
            <div class="card-grid">
                <a th:href="@{/ui/actors}" class="card quick-link-card">
                    <div class="text-center">
                        <i class="fas fa-user fa-3x mb-3" style="color: #82ccdd;"></i>
                        <h3>Актёры</h3>
                        <p class="text-muted">База актёров и их фильмография</p>
                    </div>
                </a>
                
                <a th:href="@{/ui/directors}" class="card quick-link-card">
                    <div class="text-center">
                        <i class="fas fa-user-tie fa-3x mb-3" style="color: #78e08f;"></i>
                        <h3>Режиссёры</h3>
                        <p class="text-muted">Информация о режиссёрах и их работах</p>
                    </div>
                </a>
                
                <a th:href="@{/ui/reviews}" class="card quick-link-card">
                    <div class="text-center">
                        <i class="fas fa-comment fa-3x mb-3" style="color: #6a89cc;"></i>
                        <h3>Отзывы</h3>
                        <p class="text-muted">Читайте и оставляйте отзывы</p>
                    </div>
                </a>
                
                <a th:href="@{/ui/awards}" class="card quick-link-card">
                    <div class="text-center">
                        <i class="fas fa-award fa-3x mb-3" style="color: #e55039;"></i>
                        <h3>Награды</h3>
                        <p class="text-muted">Кинопремии и награды</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <script layout:fragment="scripts">
        // Анимация появления карточек
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.fade-in');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });
        });
    </script>
</body>
</html>